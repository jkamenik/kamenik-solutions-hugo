<script
  src="https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js"
  integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI="
  crossorigin="anonymous"
></script>
<h3 class="hx-mb-4 hx-font-semibold hx-text-sm hx-tracking-tight">{{ i18n "interactive_graph" | default "Page Graph" }}</h3>
<div id="graph-container" class="hx-mb-4"></div>
<style>
  :root {
    --g-node: hsl(var(--primary-hue), 70%, 60%);
    --g-node-active: hsl(var(--primary-hue), 100%, 50%);
    --g-node-inactive: hsl(var(--primary-hue), 30%, 70%);
    --g-link: hsl(var(--primary-hue), 20%, 70%);
    --g-link-active: #5a7282;
    --g-label: #374151;
    --g-bg: #f9fafb;
    --g-border: hsl(var(--primary-hue), 20%, 85%);
  }

  .dark {
    --g-node: hsl(var(--primary-hue), 55%, 55%);
    --g-node-active: hsl(var(--primary-hue), 100%, 65%);
    --g-node-inactive: hsl(var(--primary-hue), 25%, 35%);
    --g-link: hsl(var(--primary-hue), 25%, 55%);
    --g-link-active: #94a3b8;
    --g-label: #e5e7eb;
    --g-bg: #1f2937;
    --g-border: hsl(var(--primary-hue), 15%, 35%);
  }

  #graph-container {
    width: 100%;
    height: 300px;
    background-color: var(--g-bg);
    border: 1px solid var(--g-border);
    border-radius: 0.375rem;
    overflow: hidden;
  }

  #graph-container svg {
    width: 100%;
    height: 100%;
  }

  #graph-container text {
    fill: var(--g-label);
  }
</style>
{{/* graph.js is loaded from scripts/graph.html so it runs right before the inline script that uses drawGraph */}}

{{- $twoWeeksAgo := (math.Sub time.Now.Unix (math.Mul 2 7 24 60 60)) }}
{{- $pages := slice }}
{{- range .RegularPagesRecursive }}
  {{- $isNew := false }}
  {{- if (ne nil .Params.radar.is_new) }}
    {{- $isNew = .Params.radar.is_new }}
  {{- else }}
    {{- if (gt .PublishDate.Unix $twoWeeksAgo) }}
      {{- $isNew = true }}
    {{- end }}
  {{- end }}
  {{- $page := dict
    "name" .Name
    "ring" .Params.radar.ring
    "quadrant" .Params.radar.quadrant
    "status" .Params.radar.status
    "isNew" $isNew
    "description" .Content
  }}
  {{- $pages = $pages | append $page }}
{{- end }}
{{- jsonify (dict "indent" "    " "noHTMLEscape" true) $pages }}
